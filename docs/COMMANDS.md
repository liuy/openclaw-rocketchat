[首页](../README.md) · [使用指南](GUIDE.md) · [常见问题](FAQ.md) · [配置参数](CONFIGURATION.md) · [架构](ARCHITECTURE.md) · [安全](SECURITY.md) · [多 Agent](MULTI-AGENT.md) · [多渠道](MULTI-CHANNEL.md) · [命令](COMMANDS.md)

# 命令参考

## 为什么用 `!` 而不是 `/`？

Rocket.Chat 客户端内置了一系列 `/` 斜杠命令（如 `/help`、`/join`、`/leave`、`/mute` 等）。当你输入 `/` 开头的消息时，**Rocket.Chat 客户端会直接拦截**，消息不会发送给 AI 机器人。

为了避免冲突，在 Rocket.Chat 中使用 **`!` 前缀**代替 `/` 来调用 OpenClaw 命令。插件会自动将 `!xxx` 转换为 OpenClaw 的 `/xxx` 命令。

> 这些命令是 **OpenClaw 官方内置**的功能，不是本插件额外添加的。本插件只是做了前缀翻译（`!` → `/`），让你在 Rocket.Chat 中也能正常使用它们。

---

## 命令列表

### 常用命令

| 命令格式 | 自然语言格式 | 功能 |
|---------|------------|------|
| `!help` | `命令帮助` `命令列表` `查看命令` | 显示命令帮助菜单 |
| `!reset` | `重置对话` `清空对话` `新对话` `开始新对话` | 清空当前对话的记忆，开始一段全新的对话 |
| `!status` | `查看状态` `当前状态` | 显示当前 Agent、模型、会话等运行状态 |
| `!compact` | `压缩对话` `压缩历史` | 压缩对话历史记录，释放上下文窗口空间 |

### 扩展命令

所有 `!xxx` 都会自动转换为 OpenClaw 的 `/xxx` 命令。如果 OpenClaw 未来新增了命令（如 `/model`、`/debug` 等），你直接用 `!model`、`!debug` 就能调用，**无需等待插件更新**。

| 命令格式 | 功能 |
|---------|------|
| `!xxx` | 自动转换为 OpenClaw 的 `/xxx` 命令执行 |
| `!xxx 参数` | 带参数的命令同样支持，如 `!model gpt-4` |

---

## 使用方式

### 方式一：命令格式

以 `!` 开头，后跟命令名：

```
!reset
!status
!compact
```

> **注意：** `!` 必须是消息的第一个字符。消息中间出现的感叹号不会被当作命令。
> 例如 `今天天气真好！help` 不会触发命令。

### 方式二：自然语言格式

直接发送对应的自然语言短语：

```
重置对话
查看状态
压缩对话
```

> **注意：** 自然语言必须是**完整的一条消息**，且**完全匹配**上表中的短语。
> 例如发送 `重置对话` 会触发重置，但 `帮我重置对话` 不会（这会被当作普通消息发给 AI）。

### 方式三：自然对话

你当然也可以用自然语言和 AI 对话来达到类似效果：

```
帮我把之前的对话清空，重新开始
```

这条消息会发送给 AI Agent，Agent 可能会理解你的意图并执行操作（取决于 Agent 的能力配置）。

---

## 命令 vs 自然对话

| | 命令（`!reset`） | 自然语言短语（`重置对话`） | 自然对话 |
|--|:---:|:---:|:---:|
| 执行方式 | OpenClaw 直接执行 | 转换为命令后执行 | AI 理解后执行 |
| 速度 | 最快（不经过 AI） | 最快（不经过 AI） | 较慢（需 AI 处理） |
| 准确性 | 100% 精确 | 100% 精确 | 取决于 AI 理解 |
| 适用场景 | 熟悉命令的用户 | 不想记命令的用户 | 复杂的操作请求 |

---

## 在群组中使用

群组中的命令使用与私聊相同。如果群组开启了 `@提及` 模式（`requireMention: true`），你需要先 @机器人 再输入命令：

```
@molty !reset
@molty !status
```

在不需要 @提及的群组中，直接发送命令即可。
